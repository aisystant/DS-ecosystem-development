# Матрица связей между ядрами (Kernels Relations Matrix)

## Назначение

Этот документ описывает **все типы связей между ядрами A, B, C** в хранилище. Матрица помогает:
- Понять, как ядра взаимодействуют друг с другом
- Идентифицировать точки интеграции
- Избежать нарушений связности
- Корректно размещать документы

---

## Ядра хранилища

| Префикс | Имя ядра | SoI | Описание |
|---------|----------|-----|----------|
| **A** | Созидатель | Созидатель (человек) | Человек, развивающий компетенции |
| **B** | Экосистема | Экосистема развития | Составная система (Сообщество + Платформа + Контент) |
| **C** | ИТ-Платформа-Экосистемы | ИТ-платформа | Техническая подсистема экосистемы |

---

## Матрица связей

### Полная матрица

| От \ К | **A** | **B** | **C** |
|--------|-------|-------|-------|
| **A** | — | A3 = B2 <br> A2 развивается через B2 | — |
| **B** | B2 ∋ созидателей (как участников) | — | B2 ⊃ C2 <br> B3 ⊃ C3 |
| **C** | — | C2 — подсистема B2 <br> C3 — часть B3 | — |

### Легенда

- **∋** — содержит (supersystem contains SoI)
- **⊃** — включает (system includes subsystem)
- **→** — создаёт (creation system creates SoI)
- **=** — тождество (одна система, разные точки зрения)

---

## Связь A ↔ B: Созидатель и Экосистема

### Тождество систем: A3 = B2

**A3.Экосистема-Развития** (из точки зрения ядра A) = **B2.Экосистема** (SoI ядра B)

**Интерпретация**:
- В ядре A: A3 — это система создания, которая создаёт созидателя (A3 → A2)
- В ядре B: B2 — это SoI, целевая система ядра B (система, которую мы разрабатываем)
- Это **одна и та же система**, рассматриваемая с разных точек зрения

**Структура папок**:
```
A.Созидатель/
├── A3.Экосистема-Развития/        # Точка зрения "система создания"
│   ├── A3.1.Meaning/              # Зачем экосистема создаёт созидателя
│   ├── A3.2.Architecture/         # Как экосистема устроена (подсистемы)
│   └── A3.3.Operations/           # Процессы экосистемы по созданию созидателя

B.Экосистема/
├── B2.Экосистема/                 # Точка зрения "SoI"
│   ├── B2.1.Meaning/              # Зачем экосистема, ценностное предложение
│   ├── B2.2.Architecture/         # Архитектура экосистемы (Сообщество, Платформа)
│   └── B2.3.Operations/           # Процессы работы экосистемы
```

**Документы в A3 vs B2**:
- **A3.1.Meaning**: Фокус на бизнес-модели, ROI, инвестициях (для инвесторов) — семейство F7
- **B2.1.Meaning**: Фокус на ценностном предложении для участников (для созидателей) — семейство F4
- **A3.2.Architecture**: Фокус на подсистемах, создающих ценность для созидателя
- **B2.2.Architecture**: Фокус на архитектуре экосистемы как целого
- **A3.3.Operations**: Фокус на процессах команды/служб, разрабатывающих экосистему
- **B2.3.Operations**: Фокус на процессах работы экосистемы для пользователей

**Связь с документами**:
```yaml
# A3.1.Meaning/S.Экосистема.md
---
family: F7                # Для инвесторов
kernel: A
system: A3
role: Meaning
target_audience:
  - "Инвесторы"
  - "Стратеги"
related:
  - "../../B.Экосистема/B2.Экосистема/B2.1.Meaning/S.Экосистема.md"
---

# B2.1.Meaning/S.Экосистема.md
---
family: F4                # Для созидателей
kernel: B
system: B2
role: Meaning
target_audience:
  - "Созидатели"
  - "Участники"
related:
  - "../../A.Созидатель/A3.Экосистема-Развития/A3.1.Meaning/S.Экосистема.md"
---
```

### Созидатель развивается через Экосистему

**Отношение**: A2.Созидатель ← A3.Экосистема-Развития (= B2.Экосистема)

**Интерпретация**: Созидатель (A2) развивается **через** экосистему (B2), которая предоставляет:
- Образовательный контент
- Сообщество для обмена опытом
- ИТ-платформу с инструментами

**Документы**:
- `A2.3.Operations/E.Путь-Развития.md` — как созидатель проходит путь
- `B2.3.Operations/E.Сопровождение-Учеников.md` — как экосистема сопровождает путь

**Связь**:
```yaml
depends_on:
  - "../../B.Экосистема/B2.Экосистема/B2.3.Operations/E.Сопровождение-Учеников.md"
```

### Экосистема содержит созидателей

**Отношение**: B2.Экосистема ∋ Созидатель (как участника, человека)

**Интерпретация**: Экосистема физически содержит созидателей как участников сообщества.

**Примечание**: Это НЕ отношение между ядрами A и B, а отношение между **B2 (система)** и **A2 (люди внутри неё)**.

---

## Связь B ↔ C: Экосистема и ИТ-Платформа

### Экосистема включает ИТ-платформу

**Отношение**: B2.Экосистема ⊃ C2.ИТ-Платформа

**Интерпретация**: ИТ-платформа — это **подсистема** экосистемы (part-whole).

**Структура папок**:
```
B.Экосистема/
├── B2.Экосистема/
│   ├── B2.2.Architecture/
│   │   ├── ИТ-платформа/          # Подпапка для документов о C2
│   │   │   ├── README.md          # Обзор подсистемы
│   │   │   ├── requirements.md    # Требования к C2 со стороны B2
│   │   │   └── integration.md     # Как C2 интегрируется в B2
│   │   ├── Сообщество/
│   │   └── Контент/

C.ИТ-Платформа-Экосистемы/
├── C2.ИТ-Платформа/               # Детальная архитектура подсистемы
│   ├── C2.2.Architecture/
│   │   ├── C.MCP-Серверы.md
│   │   ├── C.AI-Агенты.md
│   │   └── C.Репозитории.md
```

**Документы**:
- `B2.2.Architecture/ИТ-платформа/requirements.md` — требования к платформе со стороны экосистемы
- `C2.2.Architecture/C.MCP-Серверы.md` — детальная архитектура MCP-серверов

**Связь**:
```yaml
# B2.2.Architecture/ИТ-платформа/requirements.md
depends_on:
  - "../../C.ИТ-Платформа-Экосистемы/C2.ИТ-Платформа/C2.2.Architecture/C.MCP-Серверы.md"

# C2.2.Architecture/C.MCP-Серверы.md
affects:
  - "../../B.Экосистема/B2.Экосистема/B2.2.Architecture/ИТ-платформа/requirements.md"
```

### Система создания включает ИТ-службу

**Отношение**: B3.Система-Создания ⊃ C3.ИТ-Служба

**Интерпретация**: ИТ-служба — это **часть** системы создания экосистемы.

**Структура**:
```
B.Экосистема/
├── B3.Система-Создания/
│   ├── B3.2.Architecture/
│   │   ├── ИТ-служба/             # Подпапка для документов о C3
│   │   ├── Контент-команда/
│   │   ├── Команда-сообщества/
│   │   └── Бизнес-команда/

C.ИТ-Платформа-Экосистемы/
├── C3.ИТ-Служба/                  # Детальная структура службы
│   ├── C3.2.Architecture/
│   │   ├── C.DevOps-Команда.md
│   │   ├── C.Backend-Команда.md
│   │   └── C.AI-Команда.md
```

**Документы**:
- `B3.2.Architecture/ИТ-служба/structure.md` — состав ИТ-службы в системе создания
- `C3.2.Architecture/C.DevOps-Команда.md` — детальная структура DevOps-команды

---

## Связь A ↔ C: Созидатель и ИТ-Платформа

### Прямой связи нет

**A** и **C** НЕ связаны напрямую. Связь идёт через **B**:

```
A.Созидатель
    ↓ (A3 = B2)
B.Экосистема
    ↓ (B2 ⊃ C2)
C.ИТ-Платформа
```

**Интерпретация**:
- Созидатель (A2) взаимодействует с экосистемой (B2)
- Экосистема (B2) использует платформу (C2)
- Созидатель косвенно использует платформу через экосистему

**Документы**:
- НЕТ прямых `depends_on` между A и C
- Связь только через B

---

## Типы связей в деталях

### 1. Тождество (=)

**Определение**: Одна система, рассматриваемая с двух точек зрения.

**Пример**: A3 = B2 (Экосистема-Развития = Экосистема)

**Правила**:
- Документы в A3 и B2 описывают **одну систему**, но для **разных аудиторий**
- Семейства документов разные (A3 → F7/F8/F9, B2 → F4/F5/F6)
- Связь через `related:`

**Метаданные**:
```yaml
# A3 документ
related:
  - "../../B.Экосистема/B2.Экосистема/..."

# B2 документ
related:
  - "../../A.Созидатель/A3.Экосистема-Развития/..."
```

### 2. Включение (⊃)

**Определение**: Система включает подсистему (part-whole).

**Примеры**:
- B2.Экосистема ⊃ C2.ИТ-Платформа
- B3.Система-Создания ⊃ C3.ИТ-Служба

**Правила**:
- Подсистема документируется в **отдельном ядре** (C)
- Система-родитель имеет **подпапку** с требованиями к подсистеме (B2.2/ИТ-платформа/)
- Связь через `depends_on` (подсистема зависит от требований родителя)

**Метаданные**:
```yaml
# B2.2/ИТ-платформа/requirements.md
affects:
  - "../../../C.ИТ-Платформа-Экосистемы/C2.ИТ-Платформа/..."

# C2.2/C.MCP-Серверы.md
depends_on:
  - "../../../B.Экосистема/B2.Экосистема/B2.2.Architecture/ИТ-платформа/requirements.md"
```

### 3. Создание (→)

**Определение**: Система создания создаёт SoI.

**Примеры внутри ядер**:
- A3 → A2 (Экосистема-Развития → Созидатель)
- B3 → B2 (Система-Создания → Экосистема)
- C3 → C2 (ИТ-Служба → ИТ-Платформа)

**Правила**:
- Это отношение **внутри ядра**, не между ядрами
- X3 всегда создаёт X2
- Связь через `affects` (X3 влияет на X2) и `depends_on` (X2 зависит от X3)

**Метаданные**:
```yaml
# C3.3/E.Развертывание.md
affects:
  - "../../C2.ИТ-Платформа/C2.3.Operations/..."

# C2.3/E.Мониторинг.md
depends_on:
  - "../../C3.ИТ-Служба/C3.3.Operations/E.Развертывание.md"
```

---

## Правила размещения документов

### Правило 1: Документ в одном ядре

Документ принадлежит **одному ядру** (A, B или C).

**✅ Правильно**:
```yaml
kernel: A
system: A2
```

**❌ Ошибка**:
```yaml
kernel: A, B  # Нельзя!
```

### Правило 2: Связи через метаданные

Связи между ядрами — через `depends_on`, `affects`, `related`.

**✅ Правильно**:
```yaml
related:
  - "../../B.Экосистема/B2.Экосистема/B2.1.Meaning/S.Экосистема.md"
```

**❌ Ошибка**: Копирование контента между ядрами (дублирование).

### Правило 3: Подсистемы = подпапки + отдельное ядро

Если B2 ⊃ C2, то:
- B2.2.Architecture/ имеет подпапку `ИТ-платформа/` с требованиями
- C2.2.Architecture/ имеет полную архитектуру

**✅ Правильно**:
```
B2.2.Architecture/ИТ-платформа/requirements.md
C2.2.Architecture/C.MCP-Серверы.md
```

**❌ Ошибка**: Вся архитектура C2 в B2.2/ (слишком детально для B2).

---

## Визуализация связей

### Граф ядер

```
       ┌─────────────────┐
       │   B.Экосистема  │
       │                 │
       │  B1 ∋ B2 ← B3   │
       └────┬─────┬──────┘
            │     │
   A3 = B2──┘     └──B3 ⊃ C3
            │             │
       ┌────┴─────┐  ┌────┴─────┐
       │A.Созид-ль│  │C.ИТ-Плат-│
       │          │  │форма     │
       │A1 ∋ A2 ←─│  │          │
       │     ↑  A3│  │C1 ⊃ C2 ←─│
       └──────┴───┘  │     ↑  C3│
              │      └─────┴────┘
              │            │
        B2 ⊃ C2 ───────────┘
```

### Матрица семейств по ядрам

| Семейство | A.Созидатель | B.Экосистема | C.ИТ-Платформа |
|-----------|--------------|--------------|----------------|
| **F1** | A1.1 (Команды) | B1.1 (Мир) | — |
| **F2** | A2.1 (Созидатель) | B2.1 (Экосистема) | C2.1 (Платформа) |
| **F3** | A1.3 (Команды) | B1.3 (Мир) | — |
| **F4** | A2.1 (Созидатель) | B2.1 (Экосистема) | — |
| **F5** | A2.2 (Созидатель) | B2.2 (Экосистема) | C2.2 (Платформа) |
| **F6** | A2.3 (Созидатель) | B2.3 (Экосистема) | C2.3 (Платформа) |
| **F7** | A3.1 (Экосистема) | B3.1 (Создания) | C3.1 (Служба) |
| **F8** | A3.2 (Экосистема) | B3.2 (Создания) | C3.2 (Служба) |
| **F9** | A3.3 (Экосистема) | B3.3 (Создания) | C3.3 (Служба) |

---

## Валидация связей

### Автоматические проверки

ИИ-агенты проверяют:
1. ✅ Нет прямых связей A ↔ C (только через B)
2. ✅ A3 и B2 имеют `related:` друг на друга
3. ✅ Документы в B2.2/ИТ-платформа/ ссылаются на C2.2/
4. ✅ Документы в B3.2/ИТ-служба/ ссылаются на C3.2/
5. ✅ Нет дубликатов контента между ядрами

### Ручная проверка

Ревьюер проверяет:
- Семейства соответствуют аудиториям
- Связи `related` корректны (A3 ↔ B2)
- Подсистемы задокументированы в обоих местах (B2/ИТ-платформа/ + C2/)

---

## См. также

- [[01-value-chain.md]] — цепочка создания ценности
- [[03-systems-relations.md]] — структура связанности систем
- [[../0.1.Knowledge-Logic/01-kernels-model.md]] — модель ядер
- [[../0.1.Knowledge-Logic/03-our-systems-map.md]] — граф систем
- [[../0.1.Knowledge-Logic/04-ontology.md]] — онтология отношений
